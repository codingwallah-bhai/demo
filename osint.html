<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CBI - Secure Tracking Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        body {
            background-color: #1a202c;
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: 'Inter', sans-serif;
            touch-action: pan-x pan-y;
        }

        /* CONTAINER */
        #mask-container {
            position: relative;
            width: 100vw;
            height: calc(100vh - 96px); /* Subtract header height */
            overflow: hidden;
            background: #fff;
        }

        /* IFRAME */
        #target-frame {
            position: absolute;
            width: 100vw;
            height: 150vh; /* Make it very long */
            border: none;
            left: 0;
            transition: top 0.3s ease;
        }

        /* Loading Screen */
        #loader {
            position: absolute;
            inset: 0;
            background: #0f172a;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 100;
            transition: opacity 0.5s;
        }
        
        /* Official Header Gradients */
        .header-bg {
            background: linear-gradient(to right, #1e3a8a, #1e40af);
        }
        
        .address-bar {
            background: #0f172a;
            box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.3);
        }

        /* Blinking Cursor for effect */
        .cursor-blink {
            animation: blink 1s step-end infinite;
        }
        @keyframes blink { 50% { opacity: 0; } }
    </style>
</head>
<body class="flex flex-col h-screen">

    <!-- Official Header Area -->
    <header class="header-bg text-white shadow-lg z-20 shrink-0">
        <!-- Top Strip -->
        <div class="px-4 py-2 flex items-center justify-between border-b border-blue-400/30">
            <div class="flex items-center gap-3">
                <!-- Generic Emblem Icon -->
                <div class="w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center text-blue-900 font-bold text-xs border-2 border-white shadow-sm">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/5/55/Emblem_of_India.svg" class="w-5 h-5" alt="Emblem">
                </div>
                <div>
                    <h1 class="text-xs font-bold tracking-widest uppercase text-yellow-400">Central Bureau of Investigation</h1>
                    <p class="text-[9px] text-blue-200 tracking-wide">GOVERNMENT OF INDIA // SECURE NETWORK</p>
                </div>
            </div>
            <div class="flex items-center gap-2">
                <div class="px-2 py-0.5 bg-red-600 rounded text-[9px] font-bold animate-pulse">RESTRICTED</div>
            </div>
        </div>

        <!-- Fake Address Bar -->
        <div class="bg-blue-900 px-4 py-2 flex items-center gap-3">
            <div class="flex-1 address-bar rounded h-8 flex items-center px-3 border border-blue-700/50">
                <i data-lucide="lock" class="w-3 h-3 text-green-500 mr-2"></i>
                <span class="text-green-500 text-[10px] font-bold mr-1">HTTPS</span>
                <span class="font-mono text-gray-400 text-xs">://</span>
                <span class="font-mono text-white text-xs ml-1">cbi.gov.in/internal/osint-lookup-v4</span>
                <span class="w-1.5 h-3 bg-green-500 ml-1 cursor-blink"></span>
            </div>
            <button onclick="refreshFrame()" class="text-blue-300 hover:text-white transition-colors" title="Reload System">
                <i data-lucide="refresh-cw" class="w-4 h-4"></i>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-1 relative bg-gray-900 overflow-hidden">
        
        <!-- Loader -->
        <div id="loader">
            <div class="flex flex-col items-center">
                <img src="https://upload.wikimedia.org/wikipedia/commons/5/55/Emblem_of_India.svg" class="w-16 h-16 mb-6 opacity-80 invert">
                <div class="w-48 h-1 bg-gray-800 rounded-full overflow-hidden mb-2">
                    <div class="h-full bg-yellow-500 w-1/3 animate-[shimmer_2s_infinite]"></div>
                </div>
                <div class="text-blue-400 font-mono text-[10px] tracking-[0.2em] uppercase">Authenticating Agent...</div>
            </div>
        </div>

        <!-- Mask Container -->
        <div id="mask-container" class="w-full h-full relative bg-white">
            <iframe 
                id="target-frame"
                src="https://osintmynk.fun"
                sandbox="allow-forms allow-scripts allow-same-origin"
                title="Intel Source"
                scrolling="yes"
            ></iframe>
            
            <!-- Bottom Blocker (Covers footer) -->
            <div id="bottom-blocker" style="position: absolute; bottom: 0; left: 0; width: 100%; height: 0px; background: white; z-index: 10; pointer-events: none;"></div>
        </div>
        
        <!-- Hidden Controls Toggle -->
        <button id="toggle-btn" onclick="toggleControls()" class="fixed bottom-4 right-4 bg-gray-800/50 hover:bg-gray-800 text-gray-500 p-2 rounded-full backdrop-blur-sm transition-all z-50">
            <i data-lucide="settings-2" class="w-4 h-4"></i>
        </button>

        <!-- Adjustment Panel (Hidden) -->
        <div id="controls" class="fixed bottom-14 right-4 bg-gray-900/95 border border-gray-700 p-4 rounded-lg shadow-2xl z-50 hidden w-64 text-white">
             <div class="flex justify-between items-center mb-3 pb-2 border-b border-gray-700">
                <span class="text-xs font-bold text-yellow-500">DISPLAY CALIBRATION</span>
                <button onclick="toggleControls()" class="text-gray-400 hover:text-white"><i data-lucide="x" class="w-3 h-3"></i></button>
            </div>
            
            <div class="space-y-4">
                <div>
                    <div class="flex justify-between text-[10px] text-gray-400 mb-1">
                        <span>Header Mask (Top)</span>
                        <span id="top-val">120px</span>
                    </div>
                    <input type="range" min="0" max="300" value="120" oninput="adjustTop(this.value)" class="w-full h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-yellow-500">
                </div>

                <div>
                    <div class="flex justify-between text-[10px] text-gray-400 mb-1">
                        <span>Footer Mask (Bottom)</span>
                        <span id="btm-val">0px</span>
                    </div>
                    <input type="range" min="0" max="300" value="0" oninput="adjustBottom(this.value)" class="w-full h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-yellow-500">
                </div>
            </div>
        </div>

    </main>

    <script>
        lucide.createIcons();
        const frame = document.getElementById('target-frame');
        const loader = document.getElementById('loader');
        const controls = document.getElementById('controls');
        
        // Increased default crop to hide top banners/popups
        const isMobile = window.innerWidth < 768;
        // Maine yahan value badha di hai: 120px for desktop, 100px for mobile
        const initialTop = isMobile ? 100 : 120;
        
        document.querySelector('input[oninput*="adjustTop"]').value = initialTop;
        adjustTop(initialTop);

        frame.onload = () => {
            setTimeout(() => {
                loader.style.opacity = '0';
                setTimeout(() => loader.style.display = 'none', 500);
            }, 1500); // Thoda lamba load time realistic effect ke liye
        };
        
        setTimeout(() => {
            if(loader.style.display !== 'none') {
                loader.style.opacity = '0';
                setTimeout(() => loader.style.display = 'none', 500);
            }
        }, 5000);

        function toggleControls() {
            controls.style.display = controls.style.display === 'block' ? 'none' : 'block';
        }

        function adjustTop(val) {
            frame.style.top = `-${val}px`;
            frame.style.height = `calc(150vh + ${val}px)`; // Maintain extra length
            document.getElementById('top-val').innerText = `${val}px`;
        }

        function adjustBottom(val) {
            document.getElementById('bottom-blocker').style.height = `${val}px`;
            document.getElementById('btm-val').innerText = `${val}px`;
        }

        function refreshFrame() {
            loader.style.display = 'flex';
            loader.style.opacity = '1';
            frame.src = frame.src;
        }
    </script>
</body>
</html>
