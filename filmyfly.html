<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desi Movie Picker</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Custom Styles & Animations */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        /* Scrollbar styling */
        .custom-scrollbar::-webkit-scrollbar {
            width: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.98); }
            to { opacity: 1; transform: scale(1); }
        }
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fade-in {
            animation: fadeIn 0.3s ease-out forwards;
        }
        .animate-slide-up {
            animation: slideUp 0.4s ease-out forwards;
        }

        /* Gradient Text Utility */
        .text-gradient {
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>
<body class="bg-slate-900 text-slate-100 min-h-screen flex items-center justify-center p-4 selection:bg-rose-500 selection:text-white">

    <!-- Main Card Container -->
    <div id="app-container" class="max-w-md w-full bg-slate-800/50 backdrop-blur-xl rounded-3xl shadow-2xl border border-slate-700/50 overflow-hidden relative flex flex-col min-h-[600px] max-h-[90vh]">
        
        <!-- Decorative background blobs -->
        <div class="absolute top-0 right-0 -mt-16 -mr-16 w-64 h-64 bg-rose-500/10 rounded-full blur-3xl pointer-events-none"></div>
        <div class="absolute bottom-0 left-0 -mb-16 -ml-16 w-64 h-64 bg-indigo-500/10 rounded-full blur-3xl pointer-events-none"></div>

        <!-- Header (Static) -->
        <div class="p-6 pb-2 text-center relative z-10 flex-shrink-0">
            <div class="inline-flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-tr from-rose-500 to-orange-500 shadow-lg mb-4">
                <i data-lucide="popcorn" class="w-6 h-6 text-white"></i>
            </div>
            <h1 class="text-2xl font-bold text-gradient bg-gradient-to-r from-white to-slate-400 mb-1">
                Desi Movie Picker
            </h1>
            <p id="header-subtitle" class="text-slate-400 text-xs uppercase tracking-widest font-semibold">
                FULL DATABASE (2013-2025)
            </p>
        </div>

        <!-- Dynamic Content Area -->
        <div id="content-area" class="p-6 relative z-10 flex-1 flex flex-col overflow-hidden">
            <!-- JavaScript will render content here -->
        </div>

    </div>

    <!-- Application Logic -->
    <script>
        // --- 1. THE MASSIVE DATABASE ---
        const MOVIE_DATABASE = {
            "2025 Upcoming": [
                { title: "Chhaava", year: 2025, director: "Laxman Utekar", cast: "Vicky Kaushal, Rashmika Mandanna, Akshaye Khanna", rating: "Exp", desc: "Chhatrapati Sambhaji Maharaj ki shaurya gatha." },
                { title: "War 2", year: 2025, director: "Ayan Mukerji", cast: "Hrithik Roshan, NTR Jr.", rating: "Exp", desc: "Spy Universe ka sabse bada face-off. Kabir vs NTR Jr." },
                { title: "Sikandar", year: 2025, director: "AR Murugadoss", cast: "Salman Khan, Rashmika Mandanna", rating: "Exp", desc: "Salman Khan action avatar mein wapas." },
                { title: "Housefull 5", year: 2025, director: "Tarun Mansukhani", cast: "Akshay Kumar, Riteish Deshmukh", rating: "Exp", desc: "Cruise ship par comedy ka dose." },
                { title: "Sitaare Zameen Par", year: 2025, director: "R.S. Prasanna", cast: "Aamir Khan, Genelia Deshmukh", rating: "Exp", desc: "Ek heartwarming sports drama 'Champions' ka remake." },
                { title: "Raid 2", year: 2025, director: "Raj Kumar Gupta", cast: "Ajay Devgn, Riteish Deshmukh", rating: "Exp", desc: "IRS Officer Amay Patnaik wapas aa raha hai." },
                { title: "Sky Force", year: 2025, director: "Sandeep Kewlani", cast: "Akshay Kumar, Veer Pahariya", rating: "Exp", desc: "India ke pehle airstrike ki ansuni kahani." },
                { title: "Jolly LLB 3", year: 2025, director: "Subhash Kapoor", cast: "Akshay Kumar, Arshad Warsi", rating: "Exp", desc: "Dono Jolly aamne-saamne court mein." },
                { title: "De De Pyaar De 2", year: 2025, director: "Anshul Sharma", cast: "Ajay Devgn, R. Madhavan", rating: "Exp", desc: "Ashish ki love life mein naya twist." },
                { title: "Thamma", year: 2025, director: "Aditya Sarpotdar", cast: "Ayushmann Khurrana, Rashmika", rating: "Exp", desc: "Maddock Supernatural Universe ki agli horror-comedy." }
            ],
            "2024 Hits": [
                { title: "Stree 2", year: 2024, director: "Amar Kaushik", cast: "Shraddha Kapoor, Rajkummar Rao", rating: "Blockbuster", desc: "Sarkata ka aatank aur Stree ki wapsi." },
                { title: "Bhool Bhulaiyaa 3", year: 2024, director: "Anees Bazmee", cast: "Kartik Aaryan, Vidya Balan, Madhuri Dixit", rating: "Blockbuster", desc: "Rooh Baba vs Manjulika x 2." },
                { title: "Singham Again", year: 2024, director: "Rohit Shetty", cast: "Ajay Devgn, Akshay Kumar, Ranveer Singh", rating: "Hit", desc: "Cop Universe: Singham, Simmba, Sooryavanshi ek saath." },
                { title: "Fighter", year: 2024, director: "Siddharth Anand", cast: "Hrithik Roshan, Deepika Padukone", rating: "Hit", desc: "Indian Air Force ke top pilots ka mission." },
                { title: "Shaitaan", year: 2024, director: "Vikas Bahl", cast: "Ajay Devgn, R. Madhavan", rating: "Superhit", desc: "Ek ajnabi family ke ghar aata hai aur kaala jaadoo karta hai." },
                { title: "Munjya", year: 2024, director: "Aditya Sarpotdar", cast: "Sharvari, Abhay Verma", rating: "Blockbuster", desc: "Ek shrapit aatma 'Munjya' jo shaadi karna chahta hai." },
                { title: "Crew", year: 2024, director: "Rajesh A Krishnan", cast: "Tabu, Kareena Kapoor, Kriti Sanon", rating: "Hit", desc: "Teen air hostess sone ki taskari mein phans jati hain." },
                { title: "Teri Baaton Mein Aisa Uljha Jiya", year: 2024, director: "Amit Joshi", cast: "Shahid Kapoor, Kriti Sanon", rating: "Hit", desc: "Ek robot aur insaan ki love story." },
                { title: "Laapataa Ladies", year: 2024, director: "Kiran Rao", cast: "Nitanshi Goel, Pratibha Ranta", rating: "Hit", desc: "Do dulhan train mein exchange ho jati hain." },
                { title: "Maidaan", year: 2024, director: "Amit Sharma", cast: "Ajay Devgn", rating: "Avg", desc: "Indian Football ke golden era ki kahani." }
            ],
            "2023 Blockbusters": [
                { title: "Jawan", year: 2023, director: "Atlee", cast: "Shah Rukh Khan, Nayanthara", rating: "All Time Blockbuster", desc: "Baap-bete ki jodi corruption ke khilaf." },
                { title: "Pathaan", year: 2023, director: "Siddharth Anand", cast: "Shah Rukh Khan, Deepika Padukone", rating: "All Time Blockbuster", desc: "Pathaan vs Jim. Spy thriller." },
                { title: "Animal", year: 2023, director: "Sandeep Reddy Vanga", cast: "Ranbir Kapoor, Bobby Deol", rating: "All Time Blockbuster", desc: "Ek beta apne pita ke liye duniya jala deta hai." },
                { title: "Gadar 2", year: 2023, director: "Anil Sharma", cast: "Sunny Deol, Ameesha Patel", rating: "All Time Blockbuster", desc: "Tara Singh wapas Pakistan jata hai." },
                { title: "Dunki", year: 2023, director: "Rajkumar Hirani", cast: "Shah Rukh Khan, Taapsee Pannu", rating: "Hit", desc: "London jane ke liye 'Donkey Flight' lene wale doston ki kahani." },
                { title: "Tiger 3", year: 2023, director: "Maneesh Sharma", cast: "Salman Khan, Katrina Kaif", rating: "Hit", desc: "Tiger aur Zoya ka personal mission." },
                { title: "Rocky Aur Rani Kii Prem Kahaani", year: 2023, director: "Karan Johar", cast: "Ranveer Singh, Alia Bhatt", rating: "Hit", desc: "Randhawa aur Chatterjee families ka clash." },
                { title: "OMG 2", year: 2023, director: "Amit Rai", cast: "Akshay Kumar, Pankaj Tripathi", rating: "Superhit", desc: "Sex education par bani zaroori film." },
                { title: "12th Fail", year: 2023, director: "Vidhu Vinod Chopra", cast: "Vikrant Massey", rating: "Superhit", desc: "IPS Manoj Kumar Sharma ki inspiring kahani." },
                { title: "Sam Bahadur", year: 2023, director: "Meghna Gulzar", cast: "Vicky Kaushal", rating: "Hit", desc: "Field Marshal Sam Manekshaw ki biopic." }
            ],
            "2022 Hits": [
                { title: "BrahmÄstra", year: 2022, director: "Ayan Mukerji", cast: "Ranbir Kapoor, Alia Bhatt", rating: "Hit", desc: "Shiva aur Astraverse ki shuruwat." },
                { title: "Drishyam 2", year: 2022, director: "Abhishek Pathak", cast: "Ajay Devgn, Tabu", rating: "Blockbuster", desc: "Vijay Salgaonkar is back." },
                { title: "The Kashmir Files", year: 2022, director: "Vivek Agnihotri", cast: "Anupam Kher", rating: "All Time Blockbuster", desc: "1990 Kashmiri Pandits ke saath hue anyay ki kahani." },
                { title: "Bhool Bhulaiyaa 2", year: 2022, director: "Anees Bazmee", cast: "Kartik Aaryan, Kiara Advani", rating: "Blockbuster", desc: "Manjulika wapas aayi hai." },
                { title: "Gangubai Kathiawadi", year: 2022, director: "Sanjay Leela Bhansali", cast: "Alia Bhatt", rating: "Hit", desc: "Kamathipura ki mafia queen." },
                { title: "Jugjugg Jeeyo", year: 2022, director: "Raj Mehta", cast: "Varun Dhawan, Kiara Advani", rating: "Hit", desc: "Divorce aur family drama." },
                { title: "Vikram Vedha", year: 2022, director: "Pushkar-Gayathri", cast: "Hrithik Roshan, Saif Ali Khan", rating: "Avg", desc: "Gangster aur Cop ki moral jung." },
                { title: "Bhediya", year: 2022, director: "Amar Kaushik", cast: "Varun Dhawan, Kriti Sanon", rating: "Avg", desc: "Ek aadmi bhediya ban jata hai." }
            ],
            "2015 Hits": [
                { title: "Bajrangi Bhaijaan", year: 2015, director: "Kabir Khan", cast: "Salman Khan, Kareena Kapoor", rating: "All Time Blockbuster", desc: "Ek Hanuman bhakt Munni ko Pakistan chhodne jata hai." },
                { title: "Bajirao Mastani", year: 2015, director: "Sanjay Leela Bhansali", cast: "Ranveer Singh, Deepika Padukone", rating: "Blockbuster", desc: "Peshwa Bajirao aur Mastani ki prem kahani." },
                { title: "Prem Ratan Dhan Payo", year: 2015, director: "Sooraj Barjatya", cast: "Salman Khan, Sonam Kapoor", rating: "Superhit", desc: "Ek aam aadmi rajkumar ki jagah leta hai." },
                { title: "Dilwale", year: 2015, director: "Rohit Shetty", cast: "Shah Rukh Khan, Kajol", rating: "Hit", desc: "Raj aur Meera ki dushmani aur pyaar." },
                { title: "Tanu Weds Manu Returns", year: 2015, director: "Aanand L. Rai", cast: "Kangana Ranaut, R. Madhavan", rating: "Blockbuster", desc: "Tanu aur Manu ki shaadi mein pareshani aur Datto ki entry." },
                { title: "Baby", year: 2015, director: "Neeraj Pandey", cast: "Akshay Kumar", rating: "Superhit", desc: "Counter-intelligence unit ka mission." },
                { title: "ABCD 2", year: 2015, director: "Remo D'Souza", cast: "Varun Dhawan, Shraddha Kapoor", rating: "Superhit", desc: "Dance group Las Vegas jata hai competition ke liye." },
                { title: "Welcome Back", year: 2015, director: "Anees Bazmee", cast: "Anil Kapoor, Nana Patekar", rating: "Hit", desc: "Uday aur Majnu bhai ab sharif ho gaye hain." },
                { title: "Singh Is Bliing", year: 2015, director: "Prabhu Deva", cast: "Akshay Kumar, Amy Jackson", rating: "Hit", desc: "Raftaar Singh Goa jata hai aur pyaar mein padta hai." },
                { title: "Gabbar Is Back", year: 2015, director: "Krish", cast: "Akshay Kumar", rating: "Hit", desc: "Vigilante corruption ke khilaf ladta hai." },
                { title: "Dil Dhadakne Do", year: 2015, director: "Zoya Akhtar", cast: "Anil Kapoor, Ranveer Singh", rating: "Hit", desc: "Mehra family cruise par jati hai." },
                { title: "Piku", year: 2015, director: "Shoojit Sircar", cast: "Amitabh Bachchan, Deepika Padukone", rating: "Superhit", desc: "Baap-beti ka road trip aur constipation ki baatein." },
                { title: "Badlapur", year: 2015, director: "Sriram Raghavan", cast: "Varun Dhawan, Nawazuddin Siddiqui", rating: "Hit", desc: "Raghu badla lene ke liye 15 saal intezaar karta hai." },
                { title: "Drishyam", year: 2015, director: "Nishikant Kamat", cast: "Ajay Devgn, Tabu", rating: "Hit", desc: "2 October ko kya hua tha?" },
                { title: "Tamasha", year: 2015, director: "Imtiaz Ali", cast: "Ranbir Kapoor, Deepika Padukone", rating: "Classic", desc: "Ved apni asli pehchan dhoondhta hai." },
                { title: "NH10", year: 2015, director: "Navdeep Singh", cast: "Anushka Sharma", rating: "Hit", desc: "Road trip nightmare ban jati hai." },
                { title: "Dum Laga Ke Haisha", year: 2015, director: "Sharat Katariya", cast: "Ayushmann Khurrana, Bhumi Pednekar", rating: "Hit", desc: "Ek anokhi prem kahani." },
                { title: "Talvar", year: 2015, director: "Meghna Gulzar", cast: "Irrfan Khan", rating: "Critical Hit", desc: "Double murder case investigation." }
            ],
            "2014 Blockbusters": [
                { title: "PK", year: 2014, director: "Rajkumar Hirani", cast: "Aamir Khan, Anushka Sharma", rating: "All Time Blockbuster", desc: "Alien dharti par bhagwan dhoondhta hai." },
                { title: "Kick", year: 2014, director: "Sajid Nadiadwala", cast: "Salman Khan", rating: "Blockbuster", desc: "Devil apne kick ke liye kuch bhi karega." },
                { title: "Happy New Year", year: 2014, director: "Farah Khan", cast: "Shah Rukh Khan, Deepika Padukone", rating: "Blockbuster", desc: "Heist aur dance competition." },
                { title: "Bang Bang!", year: 2014, director: "Siddharth Anand", cast: "Hrithik Roshan, Katrina Kaif", rating: "Hit", desc: "Action romance remake." },
                { title: "Jai Ho", year: 2014, director: "Sohail Khan", cast: "Salman Khan", rating: "Hit", desc: "Aam aadmi ki taqat." },
                { title: "Holiday", year: 2014, director: "A.R. Murugadoss", cast: "Akshay Kumar", rating: "Superhit", desc: "Sleeper cells ke khilaf jung." },
                { title: "2 States", year: 2014, director: "Abhishek Varman", cast: "Arjun Kapoor, Alia Bhatt", rating: "Superhit", desc: "Punjabi boy, Tamil girl love story." },
                { title: "Ek Villain", year: 2014, director: "Mohit Suri", cast: "Sidharth Malhotra, Shraddha Kapoor", rating: "Superhit", desc: "Ek gangster aur serial killer ki kahani." },
                { title: "Heropanti", year: 2014, director: "Sabbir Khan", cast: "Tiger Shroff, Kriti Sanon", rating: "Hit", desc: "Tiger Shroff ka debut." },
                { title: "Humpty Sharma Ki Dulhania", year: 2014, director: "Shashank Khaitan", cast: "Varun Dhawan, Alia Bhatt", rating: "Superhit", desc: "DDLJ style romance." },
                { title: "Gunday", year: 2014, director: "Ali Abbas Zafar", cast: "Ranveer Singh, Arjun Kapoor", rating: "Hit", desc: "Bikram aur Bala, Calcutta ke gunde." },
                { title: "Queen", year: 2014, director: "Vikas Bahl", cast: "Kangana Ranaut", rating: "Blockbuster", desc: "Rani honeymoon par akele jati hai." },
                { title: "Haider", year: 2014, director: "Vishal Bhardwaj", cast: "Shahid Kapoor", rating: "Critical Masterpiece", desc: "Hamlet adaptation in Kashmir." },
                { title: "Mary Kom", year: 2014, director: "Omung Kumar", cast: "Priyanka Chopra", rating: "Hit", desc: "Boxing champion ki biopic." },
                { title: "Highway", year: 2014, director: "Imtiaz Ali", cast: "Alia Bhatt, Randeep Hooda", rating: "Hit", desc: "Stockholm syndrome love story." },
                { title: "Main Tera Hero", year: 2014, director: "David Dhawan", cast: "Varun Dhawan", rating: "Hit", desc: "Masala entertainer." },
                { title: "Ragini MMS 2", year: 2014, director: "Bhushan Patel", cast: "Sunny Leone", rating: "Hit", desc: "Horror sequel." },
                { title: "Mardaani", year: 2014, director: "Pradeep Sarkar", cast: "Rani Mukerji", rating: "Hit", desc: "Human trafficking ke khilaf jung." }
            ],
            "2013 Blockbusters": [
                { title: "Dhoom 3", year: 2013, director: "Vijay Krishna Acharya", cast: "Aamir Khan", rating: "All Time Blockbuster", desc: "Circus thief vs Police." },
                { title: "Chennai Express", year: 2013, director: "Rohit Shetty", cast: "Shah Rukh Khan, Deepika Padukone", rating: "Blockbuster", desc: "Don't underestimate the power of a common man." },
                { title: "Krrish 3", year: 2013, director: "Rakesh Roshan", cast: "Hrithik Roshan", rating: "Blockbuster", desc: "Superhero vs Mutants." },
                { title: "Yeh Jawaani Hai Deewani", year: 2013, director: "Ayan Mukerji", cast: "Ranbir Kapoor, Deepika Padukone", rating: "Blockbuster", desc: "Dosti, sapne aur pyaar." },
                { title: "Goliyon Ki Raasleela Ram-Leela", year: 2013, director: "Sanjay Leela Bhansali", cast: "Ranveer Singh, Deepika Padukone", rating: "Hit", desc: "Desi Romeo Juliet." },
                { title: "Bhaag Milkha Bhaag", year: 2013, director: "Rakeysh Omprakash Mehra", cast: "Farhan Akhtar", rating: "Superhit", desc: "Flying Sikh ki kahani." },
                { title: "Grand Masti", year: 2013, director: "Indra Kumar", cast: "Riteish Deshmukh, Vivek Oberoi", rating: "Superhit", desc: "Adult comedy sequel." },
                { title: "Aashiqui 2", year: 2013, director: "Mohit Suri", cast: "Aditya Roy Kapur, Shraddha Kapoor", rating: "Blockbuster", desc: "Musical love tragedy." },
                { title: "Special 26", year: 2013, director: "Neeraj Pandey", cast: "Akshay Kumar", rating: "Superhit", desc: "Fake CBI raid." },
                { title: "Raanjhanaa", year: 2013, director: "Aanand L. Rai", cast: "Dhanush, Sonam Kapoor", rating: "Hit", desc: "Banaras ki love story." },
                { title: "Kai Po Che!", year: 2013, director: "Abhishek Kapoor", cast: "Sushant Singh Rajput", rating: "Hit", desc: "Teen doston ki kahani." },
                { title: "Fukrey", year: 2013, director: "Mrighdeep Singh Lamba", cast: "Pulkit Samrat, Varun Sharma", rating: "Hit", desc: "Lottery aur sapne." },
                { title: "ABCD", year: 2013, director: "Remo D'Souza", cast: "Prabhu Deva", rating: "Hit", desc: "Any Body Can Dance." },
                { title: "Chashme Baddoor", year: 2013, director: "David Dhawan", cast: "Ali Zafar", rating: "Hit", desc: "Remake of classic comedy." },
                { title: "Jolly LLB", year: 2013, director: "Subhash Kapoor", cast: "Arshad Warsi", rating: "Hit", desc: "Courtroom drama satire." },
                { title: "Madras Cafe", year: 2013, director: "Shoojit Sircar", cast: "John Abraham", rating: "Hit", desc: "Spy thriller set in Sri Lanka." },
                { title: "The Lunchbox", year: 2013, director: "Ritesh Batra", cast: "Irrfan Khan", rating: "Critically Acclaimed", desc: "Anokhi prem kahani via dabbawalas." },
                { title: "Go Goa Gone", year: 2013, director: "Raj & DK", cast: "Saif Ali Khan", rating: "Hit", desc: "Zombie comedy." }
            ],
            "Akshay Special": [
                { title: "OMG 2", year: 2023, rating: "Superhit" },
                { title: "Sooryavanshi", year: 2021, rating: "Blockbuster" },
                { title: "Good Newwz", year: 2019, rating: "Superhit" },
                { title: "Mission Mangal", year: 2019, rating: "Superhit" },
                { title: "Housefull 4", year: 2019, rating: "Hit" },
                { title: "Kesari", year: 2019, rating: "Hit" },
                { title: "2.0", year: 2018, rating: "Blockbuster" },
                { title: "Gold", year: 2018, rating: "Hit" },
                { title: "Pad Man", year: 2018, rating: "Hit" },
                { title: "Toilet: Ek Prem Katha", year: 2017, rating: "Superhit" },
                { title: "Jolly LLB 2", year: 2017, rating: "Hit" },
                { title: "Rustom", year: 2016, rating: "Hit" },
                { title: "Housefull 3", year: 2016, rating: "Hit" },
                { title: "Airlift", year: 2016, rating: "Superhit" },
                { title: "Singh Is Bliing", year: 2015, rating: "Hit" },
                { title: "Brothers", year: 2015, rating: "Avg" },
                { title: "Gabbar Is Back", year: 2015, rating: "Hit" },
                { title: "Baby", year: 2015, rating: "Superhit" },
                { title: "Holiday", year: 2014, rating: "Superhit" },
                { title: "Special 26", year: 2013, rating: "Superhit" },
                { title: "Rowdy Rathore", year: 2012, rating: "Blockbuster" },
                { title: "Housefull 2", year: 2012, rating: "Superhit" },
                { title: "OMG", year: 2012, rating: "Superhit" },
                { title: "Khiladi 786", year: 2012, rating: "Avg" }
            ],
            "Ajay Special": [
                { title: "Singham Again", year: 2024, rating: "Hit" },
                { title: "Shaitaan", year: 2024, rating: "Superhit" },
                { title: "Maidaan", year: 2024, rating: "Avg" },
                { title: "Drishyam 2", year: 2022, rating: "Blockbuster" },
                { title: "Tanhaji", year: 2020, rating: "Blockbuster" },
                { title: "De De Pyaar De", year: 2019, rating: "Hit" },
                { title: "Total Dhamaal", year: 2019, rating: "Hit" },
                { title: "Raid", year: 2018, rating: "Hit" },
                { title: "Golmaal Again", year: 2017, rating: "Blockbuster" },
                { title: "Baadshaho", year: 2017, rating: "Avg" },
                { title: "Shivaay", year: 2016, rating: "Avg" },
                { title: "Drishyam", year: 2015, rating: "Hit" },
                { title: "Action Jackson", year: 2014, rating: "Flop" },
                { title: "Singham Returns", year: 2014, rating: "Superhit" },
                { title: "Satyagraha", year: 2013, rating: "Avg" },
                { title: "Himmatwala", year: 2013, rating: "Flop" },
                { title: "Son of Sardaar", year: 2012, rating: "Hit" },
                { title: "Bol Bachchan", year: 2012, rating: "Hit" },
                { title: "Singham", year: 2011, rating: "Superhit" }
            ]
        };

        const NEW_RELEASES = [
            { title: "Baby John", year: 2024, director: "Kalees", cast: "Varun Dhawan, Keerthy Suresh", rating: "New", desc: "Christmas 2024 release. Varun Dhawan action mode mein. Atlee produced." },
            { title: "Vanvaas", year: 2024, director: "Anil Sharma", cast: "Nana Patekar, Utkarsh Sharma", rating: "New", desc: "Gadar ke director ki nayi emotional family drama. December release." },
            { title: "Agni", year: 2024, director: "Rahul Dholakia", cast: "Pratik Gandhi, Divyenndu", rating: "New", desc: "Firefighters ki zindagi par bani film. Amazon Prime original." },
            { title: "Zero Se Restart", year: 2024, director: "Vidhu Vinod Chopra", cast: "Vikrant Massey", rating: "New", desc: "12th Fail ke making ki kahani aur usse judi ansuni baatein." }
        ];

        // --- 2. STATE VARIABLES ---
        let currentStep = 'genre-select'; // genre-select, loading, result
        let selectedGenre = null;
        let selectedMovie = null;
        let history = [];
        let db = JSON.parse(JSON.stringify(MOVIE_DATABASE)); // Deep copy
        let isDataLoaded = false;
        let isLoadingData = false;

        // --- 3. DOM ELEMENTS ---
        const contentArea = document.getElementById('content-area');
        const headerSubtitle = document.getElementById('header-subtitle');

        // --- 4. LOGIC & FUNCTIONS ---

        // Get Random Movie Logic
        function getRandomMovie(genreKey, currentMovieTitle = null) {
            const movies = db[genreKey];
            if (!movies) return null;
            
            // Filter seen movies
            let availableMovies = movies.filter(m => !history.includes(m.title));
            
            // If all seen, reset for this session but avoid immediate repeat
            if (availableMovies.length === 0) {
                availableMovies = movies.filter(m => m.title !== currentMovieTitle);
            }

            const randomIndex = Math.floor(Math.random() * availableMovies.length);
            return availableMovies[randomIndex];
        }

        // Render Functions
        function render() {
            contentArea.innerHTML = ''; // Clear content

            // Update Header Subtitle
            if (currentStep === 'genre-select') {
                headerSubtitle.textContent = isDataLoaded ? "2025 CALENDAR LOADED" : "AKSHAY, AJAY & 2013-2024 HITS";
            } else {
                headerSubtitle.textContent = `${selectedGenre || ''} SPECIAL`;
            }

            // Screen 1: Genre Selection
            if (currentStep === 'genre-select') {
                const listContainer = document.createElement('div');
                listContainer.className = "flex flex-col flex-1 overflow-hidden";
                
                const gridDiv = document.createElement('div');
                gridDiv.className = "grid grid-cols-2 gap-3 animate-fade-in content-start mb-4 overflow-y-auto pr-1 custom-scrollbar shrink-0";

                Object.keys(db).forEach(genre => {
                    const btn = document.createElement('button');
                    const isNew = genre.includes('2025') || genre.includes('2024');
                    const isStar = genre.includes('Special') || genre.includes('Blockbusters');
                    
                    let bgClass = 'bg-slate-700/50 hover:bg-slate-700 border-slate-600/50 hover:border-rose-500/50';
                    if (isNew) bgClass = 'bg-amber-500/20 hover:bg-amber-500/30 border-amber-500/50 hover:border-amber-400 col-span-2';
                    if (isStar) bgClass = 'bg-emerald-500/20 hover:bg-emerald-500/30 border-emerald-500/50 hover:border-emerald-400 col-span-2';

                    btn.className = `group relative overflow-hidden p-4 rounded-xl border transition-all duration-300 text-left shrink-0 ${bgClass}`;
                    
                    let gradientClass = 'from-rose-500/0 to-rose-500/0 group-hover:from-rose-500/10 group-hover:to-orange-500/10';
                    if (isNew) gradientClass = 'from-amber-500/10 to-orange-500/10';
                    if (isStar) gradientClass = 'from-emerald-500/10 to-teal-500/10';

                    let icon = '';
                    if (isNew) icon = '<i data-lucide="star" class="w-5 h-5 text-amber-400 fill-amber-400 animate-pulse"></i>';
                    else if (isStar) icon = '<i data-lucide="trophy" class="w-5 h-5 text-emerald-400 fill-emerald-400"></i>';

                    btn.innerHTML = `
                        <div class="absolute inset-0 bg-gradient-to-r transition-all duration-300 ${gradientClass}"></div>
                        <div class="flex items-center justify-between relative z-10">
                            <span class="font-bold text-lg transition-colors ${isNew ? 'text-amber-300 group-hover:text-amber-200' : isStar ? 'text-emerald-300 group-hover:text-emerald-200' : 'text-slate-200 group-hover:text-white'}">
                                ${genre}
                            </span>
                            ${icon}
                        </div>
                        ${(!isNew && !isStar) ? '<i data-lucide="chevron-right" class="absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500 group-hover:text-rose-400 group-hover:translate-x-1 transition-all"></i>' : ''}
                    `;
                    btn.onclick = () => handleGenreSelect(genre);
                    gridDiv.appendChild(btn);
                });

                listContainer.appendChild(gridDiv);

                // Load Data Button / Status
                if (!isDataLoaded) {
                    const loadBtn = document.createElement('button');
                    loadBtn.className = "mt-auto w-full py-3 px-4 rounded-xl border border-slate-600 bg-slate-800/80 hover:bg-slate-700 text-slate-400 hover:text-white transition-all flex items-center justify-center space-x-2 text-sm font-medium group shrink-0";
                    loadBtn.onclick = fetchImdbData;
                    
                    if (isLoadingData) {
                        loadBtn.innerHTML = `
                            <div class="w-4 h-4 border-2 border-slate-400 border-t-transparent rounded-full animate-spin"></div>
                            <span>Adding Upcoming Movies...</span>
                        `;
                        loadBtn.disabled = true;
                    } else {
                        loadBtn.innerHTML = `
                            <i data-lucide="download-cloud" class="w-4 h-4 group-hover:text-sky-400"></i>
                            <span>Load New & Upcoming</span>
                        `;
                    }
                    listContainer.appendChild(loadBtn);
                } else {
                    const statusDiv = document.createElement('div');
                    statusDiv.className = "mt-auto w-full py-2 px-4 rounded-xl border border-emerald-500/30 bg-emerald-500/10 text-emerald-400 flex items-center justify-center space-x-2 text-sm font-medium animate-fade-in shrink-0";
                    statusDiv.innerHTML = `
                        <i data-lucide="check-circle-2" class="w-4 h-4"></i>
                        <span>Baby John & Vanvaas Added</span>
                    `;
                    listContainer.appendChild(statusDiv);
                }

                contentArea.appendChild(listContainer);
            }

            // Screen 2: Loading
            else if (currentStep === 'loading') {
                const loadingDiv = document.createElement('div');
                loadingDiv.className = "absolute inset-0 flex flex-col items-center justify-center p-8 animate-fade-in z-20 bg-slate-900/50 backdrop-blur-sm rounded-3xl";
                loadingDiv.innerHTML = `
                    <div class="w-12 h-12 border-4 border-slate-700 border-t-rose-500 rounded-full animate-spin mb-4"></div>
                    <p class="text-slate-300 font-medium animate-pulse">Finding best movie...</p>
                `;
                contentArea.appendChild(loadingDiv);
            }

            // Screen 3: Result
            else if (currentStep === 'result' && selectedMovie) {
                const resultDiv = document.createElement('div');
                resultDiv.className = "flex flex-col h-full animate-slide-up";

                // Generate Gradient Class based on title length
                const gradients = [
                    'from-red-500 to-orange-500',
                    'from-fuchsia-600 to-purple-600',
                    'from-blue-500 to-cyan-500',
                    'from-emerald-500 to-teal-500',
                    'from-rose-500 to-pink-500',
                    'from-amber-500 to-orange-500',
                    'from-indigo-500 to-blue-500',
                ];
                const gradientClass = gradients[selectedMovie.title.length % gradients.length];
                const isNew = selectedMovie.year >= 2024 || selectedMovie.rating === 'Exp' || selectedMovie.rating === 'New';

                resultDiv.innerHTML = `
                    <!-- Poster Card -->
                    <div class="w-full aspect-[16/9] rounded-2xl bg-gradient-to-br ${gradientClass} mb-6 shadow-lg relative overflow-hidden group flex items-center justify-center flex-shrink-0">
                        <div class="absolute inset-0 bg-black/20 group-hover:bg-black/10 transition-colors"></div>
                        <i data-lucide="film" class="w-32 h-32 text-white/20 absolute -right-8 -bottom-8 rotate-12"></i>
                        
                        ${isNew ? '<div class="absolute top-3 right-3 bg-rose-500 text-white text-[10px] font-bold px-2 py-0.5 rounded shadow-lg">NEW</div>' : ''}

                        <div class="text-center p-4 relative z-10">
                            <h2 class="text-3xl font-black text-white drop-shadow-md leading-tight mb-2">
                                ${selectedMovie.title.toUpperCase()}
                            </h2>
                            <div class="inline-flex items-center space-x-1 bg-black/30 backdrop-blur-md px-3 py-1 rounded-full text-white/90 text-sm font-bold border border-white/20">
                                <i data-lucide="star" class="w-3 h-3 fill-yellow-400 text-yellow-400"></i>
                                <span>${selectedMovie.rating}</span>
                            </div>
                        </div>
                    </div>

                    <!-- Details Section -->
                    <div class="space-y-4 mb-6 flex-1 overflow-y-auto pr-1 custom-scrollbar">
                        <div class="flex items-center space-x-4 text-xs font-semibold text-slate-400 uppercase tracking-wide">
                            <div class="flex items-center space-x-1">
                                <i data-lucide="calendar" class="w-3 h-3"></i>
                                <span>${selectedMovie.year}</span>
                            </div>
                            <div class="w-1 h-1 rounded-full bg-slate-600"></div>
                            <div class="flex items-center space-x-1">
                                <i data-lucide="video" class="w-3 h-3"></i>
                                <span>${selectedMovie.director}</span>
                            </div>
                        </div>

                        <div class="flex items-start space-x-2 text-sm text-slate-300">
                            <i data-lucide="users" class="w-4 h-4 text-rose-400 mt-0.5 flex-shrink-0"></i>
                            <span class="leading-snug">
                                <span class="text-rose-400 font-medium">Cast: </span>
                                ${selectedMovie.cast}
                            </span>
                        </div>

                        <div class="bg-slate-700/30 rounded-xl p-4 border border-slate-700/50">
                            <p class="text-slate-200 text-sm leading-relaxed font-medium">
                                "${selectedMovie.desc || 'Ek zabardast entertainer movie jo aapko zaroor pasand aayegi!'}"
                            </p>
                        </div>
                    </div>

                    <!-- Buttons -->
                    <div class="grid grid-cols-2 gap-3 mt-auto shrink-0">
                        <button onclick="handlePickAgain()" class="flex items-center justify-center space-x-2 p-3 rounded-xl bg-slate-700 hover:bg-slate-600 text-white font-bold text-sm transition-colors">
                            <i data-lucide="refresh-cw" class="w-4 h-4"></i>
                            <span>AUR DIKHAO</span>
                        </button>
                        <button onclick="handleReset()" class="flex items-center justify-center space-x-2 p-3 rounded-xl bg-gradient-to-r from-rose-500 to-orange-500 hover:from-rose-600 hover:to-orange-600 text-white font-bold text-sm shadow-lg shadow-rose-500/25 transition-all hover:scale-[1.02] active:scale-[0.98]">
                            <i data-lucide="clapperboard" class="w-4 h-4"></i>
                            <span>NAYA GENRE</span>
                        </button>
                    </div>
                `;
                contentArea.appendChild(resultDiv);
            }

            // Re-initialize Icons after rendering new DOM
            lucide.createIcons();
        }

        // Actions
        function handleGenreSelect(genre) {
            selectedGenre = genre;
            currentStep = 'loading';
            render();

            setTimeout(() => {
                const movie = getRandomMovie(genre);
                if (movie) {
                    selectedMovie = movie;
                    history.push(movie.title);
                    currentStep = 'result';
                } else {
                    currentStep = 'genre-select'; // Should not happen usually
                }
                render();
            }, 500); // 0.5s delay
        }

        function handleReset() {
            selectedGenre = null;
            selectedMovie = null;
            currentStep = 'genre-select';
            render();
        }

        function handlePickAgain() {
            currentStep = 'loading';
            render();

            setTimeout(() => {
                const movie = getRandomMovie(selectedGenre, selectedMovie.title);
                if (movie) {
                    selectedMovie = movie;
                    history.push(movie.title);
                    currentStep = 'result';
                }
                render();
            }, 300);
        }

        function fetchImdbData() {
            isLoadingData = true;
            render(); // show loading spinner

            setTimeout(() => {
                // Add new releases to DB
                db['Late 2024 New'] = NEW_RELEASES;
                isDataLoaded = true;
                isLoadingData = false;
                render();
            }, 1200);
        }

        // Initial Render
        render();

    </script>
</body>
</html>
