<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desi Movie Picker</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Custom Styles & Animations */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        /* Scrollbar styling */
        .custom-scrollbar::-webkit-scrollbar {
            width: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.98); }
            to { opacity: 1; transform: scale(1); }
        }
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fade-in {
            animation: fadeIn 0.3s ease-out forwards;
        }
        .animate-slide-up {
            animation: slideUp 0.4s ease-out forwards;
        }

        /* Gradient Text Utility */
        .text-gradient {
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>
<body class="bg-slate-900 text-slate-100 min-h-screen flex items-center justify-center p-4 selection:bg-rose-500 selection:text-white">

    <!-- Main Card Container -->
    <div id="app-container" class="max-w-md w-full bg-slate-800/50 backdrop-blur-xl rounded-3xl shadow-2xl border border-slate-700/50 overflow-hidden relative flex flex-col min-h-[600px] max-h-[90vh]">
        
        <!-- Decorative background blobs -->
        <div class="absolute top-0 right-0 -mt-16 -mr-16 w-64 h-64 bg-rose-500/10 rounded-full blur-3xl pointer-events-none"></div>
        <div class="absolute bottom-0 left-0 -mb-16 -ml-16 w-64 h-64 bg-indigo-500/10 rounded-full blur-3xl pointer-events-none"></div>

        <!-- Header (Static) -->
        <div class="p-6 pb-2 text-center relative z-10 flex-shrink-0">
            <div class="inline-flex items-center justify-center w-12 h-12 rounded-xl bg-gradient-to-tr from-rose-500 to-orange-500 shadow-lg mb-4">
                <i data-lucide="popcorn" class="w-6 h-6 text-white"></i>
            </div>
            <h1 class="text-2xl font-bold text-gradient bg-gradient-to-r from-white to-slate-400 mb-1">
                Desi Movie Picker
            </h1>
            <p id="header-subtitle" class="text-slate-400 text-xs uppercase tracking-widest font-semibold">
                MASSIVE DATABASE (2013-2025)
            </p>
        </div>

        <!-- Dynamic Content Area -->
        <div id="content-area" class="p-6 relative z-10 flex-1 flex flex-col overflow-hidden">
            <!-- JavaScript will render content here -->
        </div>

    </div>

    <!-- Application Logic -->
    <script>
        // --- 1. THE MASSIVE DATABASE ---
        const MOVIE_DATABASE = {
            "2025 Upcoming": [
                { title: "Chhaava", year: 2025, director: "Laxman Utekar", cast: "Vicky Kaushal, Rashmika Mandanna, Akshaye Khanna", rating: "Exp", desc: "Chhatrapati Sambhaji Maharaj ki shaurya gatha." },
                { title: "War 2", year: 2025, director: "Ayan Mukerji", cast: "Hrithik Roshan, NTR Jr.", rating: "Exp", desc: "Spy Universe ka sabse bada face-off. Kabir vs NTR Jr." },
                { title: "Sikandar", year: 2025, director: "AR Murugadoss", cast: "Salman Khan, Rashmika Mandanna", rating: "Exp", desc: "Salman Khan action avatar mein wapas." },
                { title: "Housefull 5", year: 2025, director: "Tarun Mansukhani", cast: "Akshay Kumar, Riteish Deshmukh", rating: "Exp", desc: "Cruise ship par comedy ka dose." },
                { title: "Sitaare Zameen Par", year: 2025, director: "R.S. Prasanna", cast: "Aamir Khan, Genelia Deshmukh", rating: "Exp", desc: "Ek heartwarming sports drama 'Champions' ka remake." },
                { title: "Raid 2", year: 2025, director: "Raj Kumar Gupta", cast: "Ajay Devgn, Riteish Deshmukh", rating: "Exp", desc: "IRS Officer Amay Patnaik wapas aa raha hai." },
                { title: "Sky Force", year: 2025, director: "Sandeep Kewlani", cast: "Akshay Kumar, Veer Pahariya", rating: "Exp", desc: "India ke pehle airstrike ki ansuni kahani." },
                { title: "Jolly LLB 3", year: 2025, director: "Subhash Kapoor", cast: "Akshay Kumar, Arshad Warsi", rating: "Exp", desc: "Dono Jolly aamne-saamne court mein." },
                { title: "De De Pyaar De 2", year: 2025, director: "Anshul Sharma", cast: "Ajay Devgn, R. Madhavan", rating: "Exp", desc: "Ashish ki love life mein naya twist." },
                { title: "Thamma", year: 2025, director: "Aditya Sarpotdar", cast: "Ayushmann Khurrana, Rashmika", rating: "Exp", desc: "Maddock Supernatural Universe ki agli horror-comedy." },
                { title: "Dhurandhar", year: 2025, director: "Aditya Dhar", cast: "Ranveer Singh, Sanjay Dutt", rating: "Exp", desc: "High octane spy thriller." },
                { title: "Azaad", year: 2025, director: "Abhishek Kapoor", cast: "Ajay Devgn, Rasha Thadani", rating: "Exp", desc: "Ajay Devgn apne beti ke debut film mein." }
            ],
            "2024 New Releases": [
                { title: "Stree 2", year: 2024, director: "Amar Kaushik", cast: "Shraddha Kapoor, Rajkummar Rao", rating: "Blockbuster", desc: "Sarkata ka aatank aur Stree ki wapsi." },
                { title: "Bhool Bhulaiyaa 3", year: 2024, director: "Anees Bazmee", cast: "Kartik Aaryan, Vidya Balan, Madhuri Dixit", rating: "Blockbuster", desc: "Rooh Baba vs Manjulika x 2." },
                { title: "Singham Again", year: 2024, director: "Rohit Shetty", cast: "Ajay Devgn, Akshay Kumar, Ranveer Singh", rating: "Hit", desc: "Cop Universe: Singham, Simmba, Sooryavanshi ek saath." },
                { title: "Fighter", year: 2024, director: "Siddharth Anand", cast: "Hrithik Roshan, Deepika Padukone", rating: "Hit", desc: "Indian Air Force ke top pilots ka mission." },
                { title: "Shaitaan", year: 2024, director: "Vikas Bahl", cast: "Ajay Devgn, R. Madhavan", rating: "Superhit", desc: "Ek ajnabi family ke ghar aata hai aur kaala jaadoo karta hai." },
                { title: "Munjya", year: 2024, director: "Aditya Sarpotdar", cast: "Sharvari, Abhay Verma", rating: "Blockbuster", desc: "Ek shrapit aatma 'Munjya' jo shaadi karna chahta hai." },
                { title: "Crew", year: 2024, director: "Rajesh A Krishnan", cast: "Tabu, Kareena Kapoor, Kriti Sanon", rating: "Hit", desc: "Teen air hostess sone ki taskari mein phans jati hain." },
                { title: "Teri Baaton Mein Aisa Uljha Jiya", year: 2024, director: "Amit Joshi", cast: "Shahid Kapoor, Kriti Sanon", rating: "Hit", desc: "Ek robot aur insaan ki love story." },
                { title: "Laapataa Ladies", year: 2024, director: "Kiran Rao", cast: "Nitanshi Goel, Pratibha Ranta", rating: "Hit", desc: "Do dulhan train mein exchange ho jati hain." },
                { title: "Maidaan", year: 2024, director: "Amit Sharma", cast: "Ajay Devgn", rating: "Avg", desc: "Indian Football ke golden era ki kahani." },
                { title: "Baby John", year: 2024, director: "Kalees", cast: "Varun Dhawan, Keerthy Suresh", rating: "New", desc: "Christmas release. Varun Dhawan action mode mein." },
                { title: "Vanvaas", year: 2024, director: "Anil Sharma", cast: "Nana Patekar, Utkarsh Sharma", rating: "New", desc: "Gadar ke director ki nayi emotional family drama." }
            ],
            "Action Dhamaka (2013-23)": [
                { title: "Jawan", year: 2023, director: "Atlee", cast: "Shah Rukh Khan, Nayanthara", rating: "All Time Blockbuster", desc: "Baap-bete ki jodi corruption ke khilaf." },
                { title: "Pathaan", year: 2023, director: "Siddharth Anand", cast: "Shah Rukh Khan, Deepika Padukone", rating: "All Time Blockbuster", desc: "Pathaan vs Jim. Spy thriller." },
                { title: "Animal", year: 2023, director: "Sandeep Reddy Vanga", cast: "Ranbir Kapoor, Bobby Deol", rating: "All Time Blockbuster", desc: "Ek beta apne pita ke liye duniya jala deta hai." },
                { title: "Gadar 2", year: 2023, director: "Anil Sharma", cast: "Sunny Deol, Ameesha Patel", rating: "All Time Blockbuster", desc: "Tara Singh wapas Pakistan jata hai." },
                { title: "KGF: Chapter 2", year: 2022, director: "Prashanth Neel", cast: "Yash, Sanjay Dutt", rating: "Blockbuster", desc: "Rocky Bhai ki sultanat aur Adheera ka khauf." },
                { title: "RRR", year: 2022, director: "S.S. Rajamouli", cast: "NTR Jr., Ram Charan", rating: "Blockbuster", desc: "Do mahan krantikari angrezon ke khilaf ladne ke liye ek saath aate hain." },
                { title: "War", year: 2019, director: "Siddharth Anand", cast: "Hrithik Roshan, Tiger Shroff", rating: "Blockbuster", desc: "Guru aur shishya ke beech ki takraar." },
                { title: "Uri: The Surgical Strike", year: 2019, director: "Aditya Dhar", cast: "Vicky Kaushal", rating: "Blockbuster", desc: "How's the Josh? India ke surgical strike ki asli kahani." },
                { title: "Tiger Zinda Hai", year: 2017, director: "Ali Abbas Zafar", cast: "Salman Khan, Katrina Kaif", rating: "Blockbuster", desc: "Tiger aur Zoya nurses ko bachane ke liye Iraq mein ghusate hain." },
                { title: "Sultan", year: 2016, director: "Ali Abbas Zafar", cast: "Salman Khan, Anushka Sharma", rating: "Blockbuster", desc: "Ek wrestler jo sab kuch haar kar wapas uthta hai." },
                { title: "Dangal", year: 2016, director: "Nitesh Tiwari", cast: "Aamir Khan, Fatima Sana Shaikh", rating: "All Time Blockbuster", desc: "Mahavir Singh Phogat ki kahani." },
                { title: "Tanhaji", year: 2020, director: "Om Raut", cast: "Ajay Devgn, Saif Ali Khan", rating: "Blockbuster", desc: "Kondhana kila wapas lene ke liye Tanhaji ki shaurya gatha." },
                { title: "Baaghi 2", year: 2018, director: "Ahmed Khan", cast: "Tiger Shroff, Disha Patani", rating: "Blockbuster", desc: "Ronnie apni ex-girlfriend ki beti ko dhoondhne ke liye one man army ban jata hai." },
                { title: "Kick", year: 2014, director: "Sajid Nadiadwala", cast: "Salman Khan", rating: "Blockbuster", desc: "Devil apne kick ke liye kuch bhi karega." },
                { title: "Bang Bang!", year: 2014, director: "Siddharth Anand", cast: "Hrithik Roshan, Katrina Kaif", rating: "Hit", desc: "Action romance remake." },
                { title: "Dhoom 3", year: 2013, director: "Vijay Krishna Acharya", cast: "Aamir Khan, Katrina Kaif", rating: "All Time Blockbuster", desc: "Circus thief vs Police." },
                { title: "Krrish 3", year: 2013, director: "Rakesh Roshan", cast: "Hrithik Roshan, Priyanka Chopra", rating: "Blockbuster", desc: "Superhero vs Mutants." },
                { title: "Holiday", year: 2014, director: "A.R. Murugadoss", cast: "Akshay Kumar", rating: "Superhit", desc: "Sleeper cells ke khilaf jung." },
                { title: "Baby", year: 2015, director: "Neeraj Pandey", cast: "Akshay Kumar", rating: "Superhit", desc: "Counter-intelligence unit ka mission." },
                { title: "Singham Returns", year: 2014, director: "Rohit Shetty", cast: "Ajay Devgn", rating: "Blockbuster", desc: "Bajirao Singham is back." },
                { title: "Gabbar Is Back", year: 2015, director: "Krish", cast: "Akshay Kumar", rating: "Hit", desc: "Vigilante corruption ke khilaf ladta hai." },
                { title: "Dishoom", year: 2016, director: "Rohit Dhawan", cast: "John Abraham, Varun Dhawan", rating: "Hit", desc: "Cricketer kidnapping case." },
                { title: "Force 2", year: 2016, director: "Abhinay Deo", cast: "John Abraham, Sonakshi Sinha", rating: "Avg", desc: "RAW agents mission." },
                { title: "Commando 2", year: 2017, director: "Deven Bhojani", cast: "Vidyut Jammwal", rating: "Avg", desc: "Black money trail." },
                { title: "Baaghi", year: 2016, director: "Sabbir Khan", cast: "Tiger Shroff, Shraddha Kapoor", rating: "Superhit", desc: "Rebel for love." },
                { title: "Race 2", year: 2013, director: "Abbas-Mustan", cast: "Saif Ali Khan, John Abraham", rating: "Hit", desc: "Revenge and heist." },
                { title: "Sooryavanshi", year: 2021, director: "Rohit Shetty", cast: "Akshay Kumar", rating: "Blockbuster", desc: "Cop Universe ka action dhamaka." },
                { title: "Antim", year: 2021, director: "Mahesh Manjrekar", cast: "Salman Khan, Aayush Sharma", rating: "Hit", desc: "Cop vs Gangster." }
            ],
            "Comedy & Fun (2013-23)": [
                { title: "Good Newwz", year: 2019, director: "Raj Mehta", cast: "Akshay Kumar, Kareena Kapoor", rating: "Superhit", desc: "IVF mix-up comedy." },
                { title: "Dream Girl", year: 2019, director: "Raaj Shaandilyaa", cast: "Ayushmann Khurrana", rating: "Superhit", desc: "Karam 'Pooja' bankar sabka dil jeet leta hai." },
                { title: "Bala", year: 2019, director: "Amar Kaushik", cast: "Ayushmann Khurrana", rating: "Hit", desc: "Ganje-pan ki samasya par bani comedy." },
                { title: "Chhichhore", year: 2019, director: "Nitesh Tiwari", cast: "Sushant Singh Rajput, Shraddha Kapoor", rating: "Blockbuster", desc: "College ke doston ki kahani." },
                { title: "Badhaai Ho", year: 2018, director: "Amit Sharma", cast: "Ayushmann Khurrana, Neena Gupta", rating: "Blockbuster", desc: "Mummy-papa pregnant ho gaye!" },
                { title: "Sonu Ke Titu Ki Sweety", year: 2018, director: "Luv Ranjan", cast: "Kartik Aaryan, Sunny Singh", rating: "Blockbuster", desc: "Bromance vs Romance." },
                { title: "Golmaal Again", year: 2017, director: "Rohit Shetty", cast: "Ajay Devgn, Parineeti Chopra", rating: "Blockbuster", desc: "Horror comedy ka tadka." },
                { title: "Hindi Medium", year: 2017, director: "Saket Chaudhary", cast: "Irrfan Khan, Saba Qamar", rating: "Superhit", desc: "School admission struggle." },
                { title: "Fukrey Returns", year: 2017, director: "Mrighdeep Lamba", cast: "Pulkit Samrat, Varun Sharma", rating: "Hit", desc: "Bholi Punjaban is back." },
                { title: "Housefull 4", year: 2019, director: "Farhad Samji", cast: "Akshay Kumar, Riteish Deshmukh", rating: "Hit", desc: "Reincarnation comedy." },
                { title: "Total Dhamaal", year: 2019, director: "Indra Kumar", cast: "Ajay Devgn, Anil Kapoor", rating: "Hit", desc: "Treasure hunt comedy." },
                { title: "Luka Chuppi", year: 2019, director: "Laxman Utekar", cast: "Kartik Aaryan, Kriti Sanon", rating: "Hit", desc: "Live-in relationship in a joint family." },
                { title: "Pati Patni Aur Woh", year: 2019, director: "Mudassar Aziz", cast: "Kartik Aaryan, Bhumi Pednekar", rating: "Hit", desc: "Modern take on classic comedy." },
                { title: "Judwaa 2", year: 2017, director: "David Dhawan", cast: "Varun Dhawan", rating: "Superhit", desc: "Double role confusion." },
                { title: "Mubarakan", year: 2017, director: "Anees Bazmee", cast: "Arjun Kapoor, Anil Kapoor", rating: "Hit", desc: "Twin brothers wedding confusion." },
                { title: "Housefull 3", year: 2016, director: "Sajid-Farhad", cast: "Akshay Kumar, Abhishek Bachchan", rating: "Hit", desc: "Three men lie to get married." },
                { title: "Happy Bhag Jayegi", year: 2016, director: "Mudassar Aziz", cast: "Diana Penty, Abhay Deol", rating: "Hit", desc: "Runaway bride in Pakistan." },
                { title: "Welcome Back", year: 2015, director: "Anees Bazmee", cast: "Anil Kapoor, Nana Patekar", rating: "Hit", desc: "Majnu Bhai and Uday Shetty return." },
                { title: "Kis Kisko Pyaar Karoon", year: 2015, director: "Abbas-Mustan", cast: "Kapil Sharma", rating: "Hit", desc: "Three wives, one husband." },
                { title: "PK", year: 2014, director: "Rajkumar Hirani", cast: "Aamir Khan", rating: "All Time Blockbuster", desc: "Alien on earth." },
                { title: "Happy New Year", year: 2014, director: "Farah Khan", cast: "Shah Rukh Khan", rating: "Blockbuster", desc: "Heist comedy." },
                { title: "Main Tera Hero", year: 2014, director: "David Dhawan", cast: "Varun Dhawan", rating: "Hit", desc: "Masala entertainer." },
                { title: "Chennai Express", year: 2013, director: "Rohit Shetty", cast: "Shah Rukh Khan", rating: "Blockbuster", desc: "North meets South comedy." },
                { title: "Grand Masti", year: 2013, director: "Indra Kumar", cast: "Riteish Deshmukh, Vivek Oberoi", rating: "Superhit", desc: "Adult comedy." },
                { title: "Fukrey", year: 2013, director: "Mrighdeep Singh Lamba", cast: "Pulkit Samrat", rating: "Hit", desc: "Lottery dreams." },
                { title: "Chashme Baddoor", year: 2013, director: "David Dhawan", cast: "Ali Zafar", rating: "Hit", desc: "Remake of classic." },
                { title: "Jolly LLB", year: 2013, director: "Subhash Kapoor", cast: "Arshad Warsi", rating: "Hit", desc: "Courtroom satire." }
            ],
            "Drama & Emotions (2013-23)": [
                { title: "12th Fail", year: 2023, director: "Vidhu Vinod Chopra", cast: "Vikrant Massey", rating: "Superhit", desc: "IPS Manoj Kumar Sharma ki story." },
                { title: "Gully Boy", year: 2019, director: "Zoya Akhtar", cast: "Ranveer Singh", rating: "Hit", desc: "Rapper from Dharavi." },
                { title: "Super 30", year: 2019, director: "Vikas Bahl", cast: "Hrithik Roshan", rating: "Hit", desc: "Anand Kumar biopic." },
                { title: "Sanju", year: 2018, director: "Rajkumar Hirani", cast: "Ranbir Kapoor", rating: "Blockbuster", desc: "Sanjay Dutt biopic." },
                { title: "Pad Man", year: 2018, director: "R. Balki", cast: "Akshay Kumar", rating: "Hit", desc: "Sanitary pads revolutionary." },
                { title: "Secret Superstar", year: 2017, director: "Advait Chandan", cast: "Zaira Wasim", rating: "Blockbuster", desc: "Singer's hidden talent." },
                { title: "M.S. Dhoni: The Untold Story", year: 2016, director: "Neeraj Pandey", cast: "Sushant Singh Rajput", rating: "Blockbuster", desc: "Dhoni's journey." },
                { title: "Neerja", year: 2016, director: "Ram Madhvani", cast: "Sonam Kapoor", rating: "Hit", desc: "Hijack bravery story." },
                { title: "Pink", year: 2016, director: "Aniruddha Roy Chowdhury", cast: "Amitabh Bachchan", rating: "Hit", desc: "Consent drama." },
                { title: "Kapoor & Sons", year: 2016, director: "Shakun Batra", cast: "Sidharth Malhotra, Fawad Khan", rating: "Hit", desc: "Dysfunctional family." },
                { title: "Udta Punjab", year: 2016, director: "Abhishek Chaubey", cast: "Shahid Kapoor, Alia Bhatt", rating: "Hit", desc: "Drug crisis in Punjab." },
                { title: "Dear Zindagi", year: 2016, director: "Gauri Shinde", cast: "Alia Bhatt, Shah Rukh Khan", rating: "Hit", desc: "Mental health awareness." },
                { title: "Bajrangi Bhaijaan", year: 2015, director: "Kabir Khan", cast: "Salman Khan", rating: "All Time Blockbuster", desc: "Cross border humanity." },
                { title: "Piku", year: 2015, director: "Shoojit Sircar", cast: "Amitabh Bachchan, Deepika Padukone", rating: "Superhit", desc: "Father-daughter road trip." },
                { title: "Dil Dhadakne Do", year: 2015, director: "Zoya Akhtar", cast: "Anil Kapoor, Ranveer Singh", rating: "Hit", desc: "Family on a cruise." },
                { title: "Talvar", year: 2015, director: "Meghna Gulzar", cast: "Irrfan Khan", rating: "Critical Hit", desc: "Double murder mystery." },
                { title: "Mary Kom", year: 2014, director: "Omung Kumar", cast: "Priyanka Chopra", rating: "Hit", desc: "Boxer's biopic." },
                { title: "Haider", year: 2014, director: "Vishal Bhardwaj", cast: "Shahid Kapoor", rating: "Critical Masterpiece", desc: "Hamlet in Kashmir." },
                { title: "Highway", year: 2014, director: "Imtiaz Ali", cast: "Alia Bhatt", rating: "Hit", desc: "Journey to freedom." },
                { title: "Bhaag Milkha Bhaag", year: 2013, director: "Rakeysh Omprakash Mehra", cast: "Farhan Akhtar", rating: "Superhit", desc: "Milkha Singh biopic." },
                { title: "Kai Po Che!", year: 2013, director: "Abhishek Kapoor", cast: "Sushant Singh Rajput", rating: "Hit", desc: "Three friends story." },
                { title: "The Lunchbox", year: 2013, director: "Ritesh Batra", cast: "Irrfan Khan", rating: "Critical Hit", desc: "Romance via lunchboxes." },
                { title: "Shahid", year: 2013, director: "Hansal Mehta", cast: "Rajkummar Rao", rating: "Critical Acclaim", desc: "Lawyer Shahid Azmi." },
                { title: "83", year: 2021, director: "Kabir Khan", cast: "Ranveer Singh", rating: "Hit", desc: "World Cup victory." },
                { title: "Shershaah", year: 2021, director: "Vishnuvardhan", cast: "Sidharth Malhotra", rating: "Superhit", desc: "Vikram Batra biopic." },
                { title: "Sardar Udham", year: 2021, director: "Shoojit Sircar", cast: "Vicky Kaushal", rating: "Critical Hit", desc: "Revolutionary biopic." }
            ],
            "Romance & Love (2013-23)": [
                { title: "Kabir Singh", year: 2019, director: "Sandeep Reddy Vanga", cast: "Shahid Kapoor", rating: "Blockbuster", desc: "Intense love story." },
                { title: "Sita Ramam", year: 2022, director: "Hanu Raghavapudi", cast: "Dulquer Salmaan", rating: "Classic", desc: "Timeless love story." },
                { title: "Rocky Aur Rani Kii Prem Kahaani", year: 2023, director: "Karan Johar", cast: "Ranveer Singh", rating: "Hit", desc: "Family clash romance." },
                { title: "Ae Dil Hai Mushkil", year: 2016, director: "Karan Johar", cast: "Ranbir Kapoor", rating: "Hit", desc: "Unrequited love." },
                { title: "Badrinath Ki Dulhania", year: 2017, director: "Shashank Khaitan", cast: "Varun Dhawan", rating: "Superhit", desc: "Small town romance." },
                { title: "Sanam Teri Kasam", year: 2016, director: "Radhika Rao", cast: "Harshvardhan Rane", rating: "Cult Classic", desc: "Emotional romance." },
                { title: "Laila Majnu", year: 2018, director: "Sajid Ali", cast: "Avinash Tiwary", rating: "Cult Classic", desc: "Classic tale retold." },
                { title: "Tu Jhoothi Main Makkaar", year: 2023, director: "Luv Ranjan", cast: "Ranbir Kapoor", rating: "Hit", desc: "Modern romance." },
                { title: "Bajirao Mastani", year: 2015, director: "Sanjay Leela Bhansali", cast: "Ranveer Singh", rating: "Blockbuster", desc: "Epic historical romance." },
                { title: "Prem Ratan Dhan Payo", year: 2015, director: "Sooraj Barjatya", cast: "Salman Khan", rating: "Superhit", desc: "Royal romance." },
                { title: "Dilwale", year: 2015, director: "Rohit Shetty", cast: "Shah Rukh Khan", rating: "Hit", desc: "Action romance." },
                { title: "Tanu Weds Manu Returns", year: 2015, director: "Aanand L. Rai", cast: "Kangana Ranaut", rating: "Blockbuster", desc: "Sequel romance." },
                { title: "Dum Laga Ke Haisha", year: 2015, director: "Sharat Katariya", cast: "Ayushmann Khurrana", rating: "Hit", desc: "90s romance." },
                { title: "2 States", year: 2014, director: "Abhishek Varman", cast: "Arjun Kapoor", rating: "Superhit", desc: "Cross culture marriage." },
                { title: "Humpty Sharma Ki Dulhania", year: 2014, director: "Shashank Khaitan", cast: "Varun Dhawan", rating: "Superhit", desc: "DDLJ tribute." },
                { title: "Yeh Jawaani Hai Deewani", year: 2013, director: "Ayan Mukerji", cast: "Ranbir Kapoor", rating: "Blockbuster", desc: "Friendship and love." },
                { title: "Aashiqui 2", year: 2013, director: "Mohit Suri", cast: "Aditya Roy Kapur", rating: "Blockbuster", desc: "Musical tragedy." },
                { title: "Raanjhanaa", year: 2013, director: "Aanand L. Rai", cast: "Dhanush", rating: "Hit", desc: "One-sided love." },
                { title: "Ram-Leela", year: 2013, director: "Sanjay Leela Bhansali", cast: "Ranveer Singh", rating: "Hit", desc: "Passion and enmity." },
                { title: "Lootera", year: 2013, director: "Vikramaditya Motwane", cast: "Ranveer Singh", rating: "Classic", desc: "Period romance." },
                { title: "Chandigarh Kare Aashiqui", year: 2021, director: "Abhishek Kapoor", cast: "Ayushmann Khurrana", rating: "Hit", desc: "Unconventional love." }
            ],
            "Thriller & Suspense (2013-23)": [
                { title: "Drishyam 2", year: 2022, director: "Abhishek Pathak", cast: "Ajay Devgn", rating: "Blockbuster", desc: "The case reopens." },
                { title: "Andhadhun", year: 2018, director: "Sriram Raghavan", cast: "Ayushmann Khurrana", rating: "Blockbuster", desc: "Blind pianist mystery." },
                { title: "Badla", year: 2019, director: "Sujoy Ghosh", cast: "Amitabh Bachchan", rating: "Hit", desc: "Locked room mystery." },
                { title: "Raid", year: 2018, director: "Raj Kumar Gupta", cast: "Ajay Devgn", rating: "Hit", desc: "Income tax raid." },
                { title: "Airlift", year: 2016, director: "Raja Krishna Menon", cast: "Akshay Kumar", rating: "Superhit", desc: "Evacuation thriller." },
                { title: "Rustom", year: 2016, director: "Tinu Suresh Desai", cast: "Akshay Kumar", rating: "Hit", desc: "Courtroom drama." },
                { title: "Raat Akeli Hai", year: 2020, director: "Honey Trehan", cast: "Nawazuddin Siddiqui", rating: "Hit", desc: "Whodunit mystery." },
                { title: "Mom", year: 2017, director: "Ravi Udyawar", cast: "Sridevi", rating: "Hit", desc: "Revenge thriller." },
                { title: "Ittefaq", year: 2017, director: "Abhay Chopra", cast: "Sidharth Malhotra", rating: "Avg", desc: "Double murder mystery." },
                { title: "Badlapur", year: 2015, director: "Sriram Raghavan", cast: "Varun Dhawan", rating: "Hit", desc: "Revenge saga." },
                { title: "Drishyam", year: 2015, director: "Nishikant Kamat", cast: "Ajay Devgn", rating: "Hit", desc: "Family vs Police." },
                { title: "NH10", year: 2015, director: "Navdeep Singh", cast: "Anushka Sharma", rating: "Hit", desc: "Survival thriller." },
                { title: "Baby", year: 2015, director: "Neeraj Pandey", cast: "Akshay Kumar", rating: "Superhit", desc: "Terrorist chase." },
                { title: "Ek Villain", year: 2014, director: "Mohit Suri", cast: "Sidharth Malhotra", rating: "Superhit", desc: "Serial killer vs Gangster." },
                { title: "Holiday", year: 2014, director: "A.R. Murugadoss", cast: "Akshay Kumar", rating: "Superhit", desc: "Sleeper cells hunt." },
                { title: "Mardaani", year: 2014, director: "Pradeep Sarkar", cast: "Rani Mukerji", rating: "Hit", desc: "Child trafficking bust." },
                { title: "Special 26", year: 2013, director: "Neeraj Pandey", cast: "Akshay Kumar", rating: "Superhit", desc: "Fake CBI heist." },
                { title: "Madras Cafe", year: 2013, director: "Shoojit Sircar", cast: "John Abraham", rating: "Hit", desc: "Political spy thriller." },
                { title: "Ugly", year: 2014, director: "Anurag Kashyap", cast: "Rahul Bhat", rating: "Critical Acclaim", desc: "Dark kidnapping drama." },
                { title: "Bell Bottom", year: 2021, director: "Ranjit M Tewari", cast: "Akshay Kumar", rating: "Hit", desc: "Plane hijack rescue." }
            ],
            "Horror & Spooky (2013-23)": [
                { title: "Stree", year: 2018, director: "Amar Kaushik", cast: "Rajkummar Rao", rating: "Superhit", desc: "Horror comedy." },
                { title: "Tumbbad", year: 2018, director: "Rahi Anil Barve", cast: "Sohum Shah", rating: "Classic", desc: "Mythological horror." },
                { title: "Bhool Bhulaiyaa 2", year: 2022, director: "Anees Bazmee", cast: "Kartik Aaryan", rating: "Blockbuster", desc: "Ghost comedy." },
                { title: "Munjya", year: 2024, director: "Aditya Sarpotdar", cast: "Sharvari", rating: "Blockbuster", desc: "Folklore horror." },
                { title: "Pari", year: 2018, director: "Prosit Roy", cast: "Anushka Sharma", rating: "Avg", desc: "Atmospheric horror." },
                { title: "Bulbbul", year: 2020, director: "Anvita Dutt", cast: "Tripti Dimri", rating: "Hit", desc: "Folk horror." },
                { title: "Bhediya", year: 2022, director: "Amar Kaushik", cast: "Varun Dhawan", rating: "Avg", desc: "Werewolf comedy." },
                { title: "Ragini MMS 2", year: 2014, director: "Bhushan Patel", cast: "Sunny Leone", rating: "Hit", desc: "Erotic horror." },
                { title: "Ek Thi Daayan", year: 2013, director: "Kannan Iyer", cast: "Emraan Hashmi", rating: "Avg", desc: "Witch thriller." },
                { title: "Go Goa Gone", year: 2013, director: "Raj & DK", cast: "Saif Ali Khan", rating: "Hit", desc: "Zombie comedy." },
                { title: "Roohi", year: 2021, director: "Hardik Mehta", cast: "Rajkummar Rao", rating: "Hit", desc: "Wedding horror." },
                { title: "Chhorii", year: 2021, director: "Vishal Furia", cast: "Nushrratt Bharuccha", rating: "Hit", desc: "Social horror." },
                { title: "Durgamati", year: 2020, director: "G. Ashok", cast: "Bhumi Pednekar", rating: "Avg", desc: "Haunted mansion." },
                { title: "Laxmii", year: 2020, director: "Raghava Lawrence", cast: "Akshay Kumar", rating: "Hit", desc: "Transgender ghost." },
                { title: "1920: Horrors of the Heart", year: 2023, director: "Krishna Bhatt", cast: "Avika Gor", rating: "Hit", desc: "Classic horror franchise." },
                { title: "Shaitaan", year: 2024, director: "Vikas Bahl", cast: "Ajay Devgn", rating: "Superhit", desc: "Black magic thriller." }
            ],
            "IMDb Top Picks": [
                { title: "12th Fail", year: 2023, director: "Vidhu Vinod Chopra", cast: "Vikrant Massey, Medha Shankar", rating: "8.7", desc: "IPS Manoj Kumar Sharma ki asli sangharsh gatha." },
                { title: "Nayakan", year: 1987, director: "Mani Ratnam", cast: "Kamal Haasan", rating: "8.6", desc: "Ek aam aadmi Mumbai ka don Velu Naicker banta hai." },
                { title: "Gol Maal", year: 1979, director: "Hrishikesh Mukherjee", cast: "Amol Palekar, Utpal Dutt", rating: "8.5", desc: "Ramprasad ko apni naukri bachane ke liye apne nakli judwa bhai Lakshman ko lana padta hai." },
                { title: "Manichithrathazhu", year: 1993, director: "Fazil", cast: "Mohanlal, Shobana", rating: "8.7", desc: "Ek purani haveli mein bhoot ka saaya. Bhool Bhulaiyaa ki original inspiration." },
                { title: "777 Charlie", year: 2022, director: "Kiranraj K", cast: "Rakshit Shetty", rating: "8.7", desc: "Ek akela aadmi aur ek kutte ki emotional road trip." },
                { title: "Rocketry: The Nambi Effect", year: 2022, director: "R. Madhavan", cast: "R. Madhavan", rating: "8.6", desc: "ISRO scientist Nambi Narayanan ki jasooli ke jhoothe ilzaam aur sangharsh ki kahani." },
                { title: "Kaithi", year: 2019, director: "Lokesh Kanagaraj", cast: "Karthi", rating: "8.4", desc: "Ek qaidi apne beti se milne ja raha hai, lekin police ki madad karne ke liye drug mafia se ladta hai." },
                { title: "Jai Bhim", year: 2021, director: "T.J. Gnanavel", cast: "Suriya, Lijomol Jose", rating: "8.6", desc: "Ek wakeel ek adivasi mahila ko nyay dilane ke liye system se ladta hai." },
                { title: "Gangs of Wasseypur", year: 2012, director: "Anurag Kashyap", cast: "Manoj Bajpayee, Nawazuddin Siddiqui", rating: "8.2", desc: "Dhanbad ke coal mafia ki teen pushton ki khooni kahani." },
                { title: "Mahanati", year: 2018, director: "Nag Ashwin", cast: "Keerthy Suresh, Dulquer Salmaan", rating: "8.4", desc: "Legendary actress Savitri ki zindagi ka utaar-chadaav." },
                { title: "Vikram Vedha", year: 2017, director: "Pushkar-Gayathri", cast: "R. Madhavan, Vijay Sethupathi", rating: "8.2", desc: "Ek police wala aur ek gangster ke beech ki morality ki jung." },
                { title: "Sarpatta Parambarai", year: 2021, director: "Pa. Ranjith", cast: "Arya", rating: "8.5", desc: "1970s mein boxing clans ke beech ki izzat ki ladai." }
            ],
            "Telugu Blockbusters": [
                { title: "Mayabazar", year: 1957, director: "K.V. Reddy", cast: "N.T. Rama Rao, Savitri", rating: "9.1", desc: "Mahabharat katha par aadharit ek visual masterpiece." },
                { title: "C/o Kancharapalem", year: 2018, director: "Venkatesh Maha", cast: "Subba Rao, Radha Bessy", rating: "8.8", desc: "Ek chote se gaon ki chaar alag-alag prem kahaniyan jo dil ko chu leti hain." },
                { title: "Jersey", year: 2019, director: "Gowtam Tinnanuri", cast: "Nani, Shraddha Srinath", rating: "8.5", desc: "Ek cricketer jo apne bete ki khwahish puri karne ke liye 36 saal ki umar mein wapas maidan mein utarta hai." },
                { title: "Mahanati", year: 2018, director: "Nag Ashwin", cast: "Keerthy Suresh, Dulquer Salmaan", rating: "8.4", desc: "Legendary actress Savitri ki zindagi ka utaar-chadaav aur unka stardom." },
                { title: "Rangasthalam", year: 2018, director: "Sukumar", cast: "Ram Charan, Samantha Ruth Prabhu", rating: "8.2", desc: "Chitti Babu, jo sun nahi sakta, apne gaon ko corrupt president se bachane ke liye ladta hai." },
                { title: "Baahubali 2", year: 2017, director: "S.S. Rajamouli", cast: "Prabhas, Rana Daggubati", rating: "8.2", desc: "Kattappa ne Baahubali ko kyun maara? Is sawal ka jawab aur Mahishmati ka anjaam." },
                { title: "Sita Ramam", year: 2022, director: "Hanu Raghavapudi", cast: "Dulquer Salmaan, Mrunal Thakur", rating: "8.5", desc: "Ek fauji Ram ko Sita se chitthiyan milti hain. Ye pyaar ki kahani border aur dharm ki diwaron se pare hai." },
                { title: "Pokiri", year: 2006, director: "Puri Jagannadh", cast: "Mahesh Babu, Ileana D'Cruz", rating: "8.0", desc: "Pandu, ek ruthless gangster, jo police aur land mafia ke beech phasa hai." },
                { title: "RRR", year: 2022, director: "S.S. Rajamouli", cast: "NTR Jr., Ram Charan", rating: "7.8", desc: "Do mahan krantikari angrezon ke khilaf ladne ke liye ek saath aate hain. Dosti aur action ki misaal." }
            ]
        };

        // --- 2. STATE VARIABLES ---
        let currentStep = 'genre-select'; // genre-select, loading, result
        let selectedGenre = null;
        let selectedMovie = null;
        let history = [];
        let db = JSON.parse(JSON.stringify(MOVIE_DATABASE)); // Deep copy
        let isDataLoaded = false;
        let isLoadingData = false;

        // --- 3. DOM ELEMENTS ---
        const contentArea = document.getElementById('content-area');
        const headerSubtitle = document.getElementById('header-subtitle');

        // --- 4. LOGIC & FUNCTIONS ---

        // Get Random Movie Logic
        function getRandomMovie(genreKey, currentMovieTitle = null) {
            const movies = db[genreKey];
            if (!movies) return null;
            
            // Filter seen movies
            let availableMovies = movies.filter(m => !history.includes(m.title));
            
            // If all seen, reset for this session but avoid immediate repeat
            if (availableMovies.length === 0) {
                availableMovies = movies.filter(m => m.title !== currentMovieTitle);
            }

            const randomIndex = Math.floor(Math.random() * availableMovies.length);
            return availableMovies[randomIndex];
        }

        // Render Functions
        function render() {
            contentArea.innerHTML = ''; // Clear content

            // Update Header Subtitle
            if (currentStep === 'genre-select') {
                headerSubtitle.textContent = "SELECT A CATEGORY";
            } else {
                headerSubtitle.textContent = `${selectedGenre || ''} SPECIAL`;
            }

            // Screen 1: Genre Selection
            if (currentStep === 'genre-select') {
                const listContainer = document.createElement('div');
                listContainer.className = "flex flex-col flex-1 overflow-hidden";
                
                const gridDiv = document.createElement('div');
                gridDiv.className = "grid grid-cols-2 gap-3 animate-fade-in content-start mb-4 overflow-y-auto pr-1 custom-scrollbar shrink-0";

                Object.keys(db).forEach(genre => {
                    const btn = document.createElement('button');
                    const isNew = genre.includes('2025') || genre.includes('2024');
                    const isStar = genre.includes('Hits') || genre.includes('Blockbusters');
                    
                    let bgClass = 'bg-slate-700/50 hover:bg-slate-700 border-slate-600/50 hover:border-rose-500/50';
                    if (isNew) bgClass = 'bg-amber-500/20 hover:bg-amber-500/30 border-amber-500/50 hover:border-amber-400 col-span-2';
                    if (isStar) bgClass = 'bg-emerald-500/20 hover:bg-emerald-500/30 border-emerald-500/50 hover:border-emerald-400 col-span-2';

                    btn.className = `group relative overflow-hidden p-4 rounded-xl border transition-all duration-300 text-left shrink-0 ${bgClass}`;
                    
                    let gradientClass = 'from-rose-500/0 to-rose-500/0 group-hover:from-rose-500/10 group-hover:to-orange-500/10';
                    if (isNew) gradientClass = 'from-amber-500/10 to-orange-500/10';
                    if (isStar) gradientClass = 'from-emerald-500/10 to-teal-500/10';

                    let icon = '';
                    if (isNew) icon = '<i data-lucide="star" class="w-5 h-5 text-amber-400 fill-amber-400 animate-pulse"></i>';
                    else if (isStar) icon = '<i data-lucide="trophy" class="w-5 h-5 text-emerald-400 fill-emerald-400"></i>';

                    btn.innerHTML = `
                        <div class="absolute inset-0 bg-gradient-to-r transition-all duration-300 ${gradientClass}"></div>
                        <div class="flex items-center justify-between relative z-10">
                            <span class="font-bold text-lg transition-colors ${isNew ? 'text-amber-300 group-hover:text-amber-200' : isStar ? 'text-emerald-300 group-hover:text-emerald-200' : 'text-slate-200 group-hover:text-white'}">
                                ${genre}
                            </span>
                            ${icon}
                        </div>
                        ${(!isNew && !isStar) ? '<i data-lucide="chevron-right" class="absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-500 group-hover:text-rose-400 group-hover:translate-x-1 transition-all"></i>' : ''}
                    `;
                    btn.onclick = () => handleGenreSelect(genre);
                    gridDiv.appendChild(btn);
                });

                listContainer.appendChild(gridDiv);
                contentArea.appendChild(listContainer);
            }

            // Screen 2: Loading
            else if (currentStep === 'loading') {
                const loadingDiv = document.createElement('div');
                loadingDiv.className = "absolute inset-0 flex flex-col items-center justify-center p-8 animate-fade-in z-20 bg-slate-900/50 backdrop-blur-sm rounded-3xl";
                loadingDiv.innerHTML = `
                    <div class="w-12 h-12 border-4 border-slate-700 border-t-rose-500 rounded-full animate-spin mb-4"></div>
                    <p class="text-slate-300 font-medium animate-pulse">Finding best movie...</p>
                `;
                contentArea.appendChild(loadingDiv);
            }

            // Screen 3: Result
            else if (currentStep === 'result' && selectedMovie) {
                const resultDiv = document.createElement('div');
                resultDiv.className = "flex flex-col h-full animate-slide-up";

                // Generate Gradient Class based on title length
                const gradients = [
                    'from-red-500 to-orange-500',
                    'from-fuchsia-600 to-purple-600',
                    'from-blue-500 to-cyan-500',
                    'from-emerald-500 to-teal-500',
                    'from-rose-500 to-pink-500',
                    'from-amber-500 to-orange-500',
                    'from-indigo-500 to-blue-500',
                ];
                const gradientClass = gradients[selectedMovie.title.length % gradients.length];
                const isNew = selectedMovie.year >= 2024 || selectedMovie.rating === 'Exp' || selectedMovie.rating === 'New';

                resultDiv.innerHTML = `
                    <!-- Poster Card -->
                    <div class="w-full aspect-[16/9] rounded-2xl bg-gradient-to-br ${gradientClass} mb-6 shadow-lg relative overflow-hidden group flex items-center justify-center flex-shrink-0">
                        <div class="absolute inset-0 bg-black/20 group-hover:bg-black/10 transition-colors"></div>
                        <i data-lucide="film" class="w-32 h-32 text-white/20 absolute -right-8 -bottom-8 rotate-12"></i>
                        
                        ${isNew ? '<div class="absolute top-3 right-3 bg-rose-500 text-white text-[10px] font-bold px-2 py-0.5 rounded shadow-lg">NEW</div>' : ''}

                        <div class="text-center p-4 relative z-10">
                            <h2 class="text-3xl font-black text-white drop-shadow-md leading-tight mb-2">
                                ${selectedMovie.title.toUpperCase()}
                            </h2>
                            <div class="inline-flex items-center space-x-1 bg-black/30 backdrop-blur-md px-3 py-1 rounded-full text-white/90 text-sm font-bold border border-white/20">
                                <i data-lucide="star" class="w-3 h-3 fill-yellow-400 text-yellow-400"></i>
                                <span>${selectedMovie.rating}</span>
                            </div>
                        </div>
                    </div>

                    <!-- Details Section -->
                    <div class="space-y-4 mb-6 flex-1 overflow-y-auto pr-1 custom-scrollbar">
                        <div class="flex items-center space-x-4 text-xs font-semibold text-slate-400 uppercase tracking-wide">
                            <div class="flex items-center space-x-1">
                                <i data-lucide="calendar" class="w-3 h-3"></i>
                                <span>${selectedMovie.year}</span>
                            </div>
                            <div class="w-1 h-1 rounded-full bg-slate-600"></div>
                            <div class="flex items-center space-x-1">
                                <i data-lucide="video" class="w-3 h-3"></i>
                                <span>${selectedMovie.director}</span>
                            </div>
                        </div>

                        <div class="flex items-start space-x-2 text-sm text-slate-300">
                            <i data-lucide="users" class="w-4 h-4 text-rose-400 mt-0.5 flex-shrink-0"></i>
                            <span class="leading-snug">
                                <span class="text-rose-400 font-medium">Cast: </span>
                                ${selectedMovie.cast}
                            </span>
                        </div>

                        <div class="bg-slate-700/30 rounded-xl p-4 border border-slate-700/50">
                            <p class="text-slate-200 text-sm leading-relaxed font-medium">
                                "${selectedMovie.desc || 'Ek zabardast entertainer movie jo aapko zaroor pasand aayegi!'}"
                            </p>
                        </div>
                    </div>

                    <!-- Buttons -->
                    <div class="grid grid-cols-2 gap-3 mt-auto shrink-0">
                        <button onclick="handlePickAgain()" class="flex items-center justify-center space-x-2 p-3 rounded-xl bg-slate-700 hover:bg-slate-600 text-white font-bold text-sm transition-colors">
                            <i data-lucide="refresh-cw" class="w-4 h-4"></i>
                            <span>AUR DIKHAO</span>
                        </button>
                        <button onclick="handleReset()" class="flex items-center justify-center space-x-2 p-3 rounded-xl bg-gradient-to-r from-rose-500 to-orange-500 hover:from-rose-600 hover:to-orange-600 text-white font-bold text-sm shadow-lg shadow-rose-500/25 transition-all hover:scale-[1.02] active:scale-[0.98]">
                            <i data-lucide="clapperboard" class="w-4 h-4"></i>
                            <span>NAYA GENRE</span>
                        </button>
                    </div>
                `;
                contentArea.appendChild(resultDiv);
            }

            // Re-initialize Icons after rendering new DOM
            lucide.createIcons();
        }

        // Actions
        function handleGenreSelect(genre) {
            selectedGenre = genre;
            currentStep = 'loading';
            render();

            setTimeout(() => {
                const movie = getRandomMovie(genre);
                if (movie) {
                    selectedMovie = movie;
                    history.push(movie.title);
                    currentStep = 'result';
                } else {
                    currentStep = 'genre-select'; // Should not happen usually
                }
                render();
            }, 500); // 0.5s delay
        }

        function handleReset() {
            selectedGenre = null;
            selectedMovie = null;
            currentStep = 'genre-select';
            render();
        }

        function handlePickAgain() {
            currentStep = 'loading';
            render();

            setTimeout(() => {
                const movie = getRandomMovie(selectedGenre, selectedMovie.title);
                if (movie) {
                    selectedMovie = movie;
                    history.push(movie.title);
                    currentStep = 'result';
                }
                render();
            }, 300);
        }

        // Initial Render
        render();

    </script>
</body>
</html>
